# $Id: Makefile,v 1.4 2006/11/24 12:58:04 source Exp source $
CC = gcc
CFLAGS = -g -W -Wall -O -fPIC -shared
LDFLAGS = -nostdlib -shared
LIBS = -lgcc -lc -ldl

all: libhttpcacheopen.so libhttpcacheopen.debug.so

libhttpcacheopen.so: httpcacheopen.c md5.c cleanpath.c Makefile
	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(LIBS) httpcacheopen.c

libhttpcacheopen.debug.so: httpcacheopen.c md5.c cleanpath.c Makefile
	$(CC) -DDEBUG $(CFLAGS) $(LDFLAGS) -o $@ $(LIBS) httpcacheopen.c

clean:
	rm -f libhttpcacheopen.debug.so libhttpcacheopen.so libhttpcacheopen.debug.so
